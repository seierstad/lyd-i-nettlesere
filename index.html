<!DOCTYPE html>
<html lang="no">

<head>
    <meta charset="utf-8" />
    <title>Lyd i nettlesere</title>
    <base href="." />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1" />
    <meta name="description" content="Hvordan får man nettlesere til å lage lyd?" />
    <link href="./utseende.css" rel="stylesheet" type="text/css" />
    <script defer src="./script.js"></script>
</head>

<body>
    <h1>Lyd i nettlesere</h1>
    <main>
        <p>Denne nettsiden er et utgangspunkt for miniseminaret "Lyd i nettlesere".</p>
        <details>
            <summary>Derfor er den verken en fryd for øyet eller strukturert som et vanlig nettsted.</summary>
            <p>For lettere å kunne holde fokus på lyd, er det ikke lagt noe innsats i å få denne siden til å se pen ut. I en nettside ment for publisering ville man nok ha lagt javascript-koden i egne filer og brukt ferdige javascript-kodebibliotek for å kunne legge til og fjerne knapper, spaker og visualiseringer ved behov. Jeg har erfart at ferdige kodebibliotek kan komme i veien for læring, siden det blir vanskelig å skille mellom hva biblioteket gjør og hva koden gjør.</p>
        </details>
        <h2>Hovedpunkter</h2>
        <ul>
            <li>Hvorfor Javascript?</li>
            <li>Begrensninger i Javascript</li>
            <li>
                Lyd: AudioContext
                <button id="bli-lyd">bli lyd!</button>

                <ul>
                    <li>Oscillator
                        <button id="ny-oscillator">lag oscillator</button>
                        <button id="start-oscillator">start oscillator</button>
                        <button id="stopp-oscillator">stopp oscillator</button>
                        <label>
                            oscillatorfrekvens:
                            <input type="range" min="20" max="1000" step="10" value="440" id="oscillator-frekvens-spak" />
                        </label>
                        
                    </li>
                    <li>Gain</li>
                    <li>BufferSource</li>
                    <li>ConstantSource</li>
                    <li>BiquadFilter</li>
                    <li>IIRFilter</li>
                    <li>Convolver</li>
                    <li>ChannelSplitter og ChannelMerger</li>
                    <li>Pan</li>
                    <li>Delay</li>
                    <li>AudioWorklet</li>
                </ul>
            </li>
            <li>
                fordeler med HTML
                <ul>
                    <li>innholdet blir tilgjengelig for alle som har tilgang til en nettleser</li>
                    <li>opprinnelig laget for eksplisitt å kunne uttrykke mening, struktur og sammenhenger i tekst</li>
                    <li>støtte for avanserte tabeller og skjemaer</li>
                    <li>kodet riktig kan dokumenter leses, navigeres og endres uavhengig av skjerm, slik at innholdet blir tilgjengelig for blinde og svaksynte (og søkemotorer)</li>
                </ul>
            </li>
            <li>
                Grafikk: canvas
                <ul>
                    <li>2D-tegning</li>
                    <li>å vise bilder</li>
                    <li>å lese pikselverdier</li>
                </ul>
                <form id="bilde-skjema">
                    <label>last inn et bilde <input type="file" id="bilde-filfelt" /></label>
                </form>
                <canvas id="lerret" width="200" height="200" />

            </li>
            <li>
                hvordan laste inn filer?
                <p>hvis vi vet på forhånd hvilke filer vi vil leke med, kan de lastes sammen med resten av filene når siden lastes, (f.eks. angitt som src-atributt i <code>&lt;audio&gt;</code>-elementer i html-koden)</p>
                <p>for å la brukere av siden laste inn egne filer, trenger vi et <code>&lt;input type="file"&gt;</code>-element og bruke javascript til å håndtere det. (I tillegg er det hyggelig å legge inn støtte for dra-og-slipp-lasting av filer)</p>
            </li>
            <li>
                strømmer
            </li>
            <li>
                Gode kilder / dokumentasjon:
                <dl>
                    <dt><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API">Web Audio API hos MDN</a></dt>
                    <dd><abbr title="Mozilla Developer Network">MDN</abbr> er det beste stedet å finne praktisk anvendelig og oppdatert informasjon om de fleste webstandarder</dd>
                    <dt><a href="https://caniuse.com">caniuse.com</a></dt>
                    <dd>
                        <details>
                            <summary>Standardene som definerer hvordan nettsider fungerer er under stadig utvikling. Her er en god og oppdatert oversikt over hvilke deler av vedtatte og eksperimentelle metoder som støttes i ulike nettlesere.</summary>
                            <h3>et par eksempler:</h3>
                            <p>Web Audio-APIet startet som et eksperiment i Firefox, før Mozilla foreslo å standardisere det. Gjennom standardiseringsprosessen kom det gode innspill fra folk utenfor Mozilla, så standarden ble temmelig forskjellig fra Mozillas implementasjon. I en overgangsfase var støtten for den vedtatte standarden derfor mye bedre i Chrome enn i Firefox, siden utviklerne i Mozilla ikke bare måtte implementere den nye standarden, men også rydde bort gammel kode.</p>
                            <p>Web MIDI-APIet var lenge kun støttet i Chrome. Google har hatt en lei tendens til å underkommunisere at eksperimentell funksjonalitet de har lagt til i Chrome er nettopp ikke-standardiserte eksperimenter. (Heldigvis har Mozilla lagt til støtte for MIDI i Firefox nå. Microsoft Edge er bare Chrome med annen innpakning og Bing som standard-søkemotor, så der har støtten vært på plass lenge. Apple tjener gode penger på sin App-store, så de holder igjen funksjonalitet som gjør det mulig å lage web-applikasjoner så lenge de kan. Altså må vi nok vente lenge på MIDI-støtte i Safari. Det hjelper heller ikke å installere andre nettlesere på iDingser, for Apple har bestemt at alle andre nettlesere må bruke Safari-motoren i deres bærbare dingser. <quote>"You can put lipstick on a pig, but it's still a pig."</quote>)</p>
                        </details>
                    </dd>
            </li>
        </ul>




    </main>
    <!-- herfra til slutten av filen er det bare ikke-lydrelatert html-kode -->
    <footer>
        <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://thecheesemoonsociety.com/lyd-i-nettlesere">Lyd i nettlesere</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://erik.seierstad.info/">Erik E. Seierstad</a> is licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" class="creative-commons" style="display:inline-block;"><abbr title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International">CC BY-NC-SA 4.0</abbr><svg class="cc" viewBox="0 0 30 30" role="img"><title>Creative Commons</title><use href="./grafikk/cc.svg#logo" /></svg><svg class="cc" viewBox="0 0 30 30" role="img"><title>Attribution</title><use href="./grafikk/cc.svg#by" /></svg><svg class="cc" viewBox="0 0 30 30" role="img"><title>Non Commercial</title><use href="./grafikk/cc.svg#nc" /></svg><svg class="cc" viewBox="0 0 30 30" role="img"><title>Share Alike</title><use href="./grafikk/cc.svg#sa" /></svg></a></p>
    </footer>
</body>

</html>